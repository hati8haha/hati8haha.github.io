<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>倉鼠跑滾輪</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="寫 code 不做筆記也會停在原地">
<meta property="og:type" content="website">
<meta property="og:title" content="倉鼠跑滾輪">
<meta property="og:url" content="http://example.com/page/2/index.html">
<meta property="og:site_name" content="倉鼠跑滾輪">
<meta property="og:description" content="寫 code 不做筆記也會停在原地">
<meta property="og:locale">
<meta property="article:author" content="Haoting">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="倉鼠跑滾輪" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">倉鼠跑滾輪</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">一直跑也不會前進</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Suche"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Suche"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-CSS Selector 權重的計算方式" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/12/01/CSS%20Selector%20%E6%AC%8A%E9%87%8D%E7%9A%84%E8%A8%88%E7%AE%97%E6%96%B9%E5%BC%8F/" class="article-date">
  <time class="dt-published" datetime="2021-12-01T00:26:14.000Z" itemprop="datePublished">2021-12-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/12/01/CSS%20Selector%20%E6%AC%8A%E9%87%8D%E7%9A%84%E8%A8%88%E7%AE%97%E6%96%B9%E5%BC%8F/">CSS Selector 權重的計算方式</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h6 id="tags-CSS"><a href="#tags-CSS" class="headerlink" title="tags: CSS"></a>tags: <code>CSS</code></h6><h3 id="基本選擇器權重計算"><a href="#基本選擇器權重計算" class="headerlink" title="基本選擇器權重計算"></a>基本選擇器權重計算</h3><p>CSS Selector 的權重計算方式如下：</p>
<ol>
<li>計算 ID 選擇器的數量（設想為變數 a）</li>
<li>計算 Class 與 Attributes 選擇器（包含 Pseudo Class）的數量（設想為變數 b）</li>
<li>計算標籤選擇器的數量（設想為變數 c）</li>
<li>將 a、b、c 串接在一起，即可得到權重</li>
</ol>
<p>範例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">*               <span class="comment">/* a=0 b=0 c=0 -&gt; 權重 =   0 */</span></span><br><span class="line"><span class="selector-tag">LI</span>              <span class="comment">/* a=0 b=0 c=1 -&gt; 權重 =   1 */</span></span><br><span class="line"><span class="selector-tag">UL</span> <span class="selector-tag">LI</span>           <span class="comment">/* a=0 b=0 c=2 -&gt; 權重 =   2 */</span></span><br><span class="line"><span class="selector-tag">UL</span> <span class="selector-tag">OL</span>+<span class="selector-tag">LI</span>        <span class="comment">/* a=0 b=0 c=3 -&gt; 權重 =   3 */</span></span><br><span class="line"><span class="selector-tag">H1</span> + *<span class="selector-attr">[REL=up]</span>  <span class="comment">/* a=0 b=1 c=1 -&gt; 權重 =  11 */</span></span><br><span class="line"><span class="selector-tag">UL</span> <span class="selector-tag">OL</span> <span class="selector-tag">LI</span><span class="selector-class">.red</span>    <span class="comment">/* a=0 b=1 c=3 -&gt; 權重 =  13 */</span></span><br><span class="line"><span class="selector-tag">LI</span><span class="selector-class">.red</span><span class="selector-class">.level</span>    <span class="comment">/* a=0 b=2 c=1 -&gt; 權重 =  21 */</span></span><br><span class="line"><span class="selector-id">#x34y</span>           <span class="comment">/* a=1 b=0 c=0 -&gt; 權重 = 100 */</span></span><br><span class="line"><span class="selector-id">#s12</span><span class="selector-pseudo">:not</span>(FOO)   <span class="comment">/* a=1 b=0 c=1 -&gt; 權重 = 101 */</span></span><br></pre></td></tr></table></figure>
<p>其中，a、b、c 計算後所得的權重並不是代表百位數、十位數、個位數，而是會依照 a、b、c 的順序進行比較，見下方範例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.pink</span><span class="selector-class">.pink</span><span class="selector-class">.pink</span><span class="selector-class">.pink</span><span class="selector-class">.pink</span><span class="selector-class">.pink</span><span class="selector-class">.pink</span><span class="selector-class">.pink</span><span class="selector-class">.pink</span> ... <span class="selector-class">.pink</span></span><br><span class="line"><span class="comment">/* 101 個 .pink，權重為 0-101-0 */</span></span><br><span class="line"><span class="selector-id">#login-button</span></span><br><span class="line"><span class="comment">/* 權重為 100-0-0 */</span></span><br></pre></td></tr></table></figure>
<h3 id="inline-style-與-important"><a href="#inline-style-與-important" class="headerlink" title="inline style 與 !important"></a>inline style 與 !important</h3><p>CSS Selector 權重也需要考慮到 inline style 與 !important，這兩者的權重計算可以視為優先於上述選擇器權重。</p>
<p>根據 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/CSS/Specificity">MDN</a> 所介紹</p>
<blockquote>
<p>Inline styles added to an element (e.g., <code>style=&quot;font-weight: bold;&quot;</code>) always overwrite any styles in external stylesheets, and thus can be thought of as having the highest specificity.</p>
</blockquote>
<p>Inline styles 可以直接覆蓋過 stylesheets 中的樣式</p>
<blockquote>
<p>When an important rule is used on a style declaration, this declaration overrides any other declarations. Although technically !important has nothing to do with specificity, it interacts directly with it.</p>
</blockquote>
<p>!important 則是不列入權重計算，有該註記的樣式會直接被套用</p>
<h3 id="總結"><a href="#總結" class="headerlink" title="總結"></a>總結</h3><p>CSS Selector 權重可以用以下一行簡單說明：</p>
<p><strong>!important &gt; inline styles &gt; ID 選擇器 &gt; Class 選擇器 &gt; Html 標籤選擇器</strong></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/12/01/CSS%20Selector%20%E6%AC%8A%E9%87%8D%E7%9A%84%E8%A8%88%E7%AE%97%E6%96%B9%E5%BC%8F/" data-id="cl7t40xvz0006wo7kdewa79kh" data-title="CSS Selector 權重的計算方式" class="article-share-link">Teilen</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-SPA" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/12/01/SPA/" class="article-date">
  <time class="dt-published" datetime="2021-12-01T00:24:24.000Z" itemprop="datePublished">2021-12-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/12/01/SPA/">SPA</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h6 id="tags-web-基礎"><a href="#tags-web-基礎" class="headerlink" title="tags: web 基礎"></a>tags: <code>web 基礎</code></h6><h2 id="Single-Page-Application"><a href="#Single-Page-Application" class="headerlink" title="Single Page Application"></a>Single Page Application</h2><p>single-page application 縮寫為 SPA，中文為「單一頁面應用程式」。其主要的概念是透過<strong>單一頁面</strong>達成的建立、讀取、修改與刪除資料等功能。</p>
<p>相對於早期的網站設計主要採多頁設計，通常一個功能一個頁面，在資料傳送間必須重新載入頁面。</p>
<p>而 SPA 的資料傳輸主要以 ajax 的方式進行，透過 ajax 資料可以在背景傳輸，讓資料存取功能在不切換頁面的情況下可以實現。</p>
<p>由於早期的網站設計主要採多頁設計，不同功能或傳送資料時必須重新載入頁面，每次重新載入代表整個 html 畫面的重新繪製，需要較多的網路資源。</p>
<h2 id="SPA-的優缺點為何"><a href="#SPA-的優缺點為何" class="headerlink" title="SPA 的優缺點為何"></a>SPA 的優缺點為何</h2><h3 id="優點"><a href="#優點" class="headerlink" title="優點"></a>優點</h3><p>相較於採用多頁設計的網站，SPA 在存取資料時不需要重新載入頁，若網站中只有一部分資料更動，只需對該部份進行更新，達到較佳使用者體驗。</p>
<h3 id="缺點"><a href="#缺點" class="headerlink" title="缺點"></a>缺點</h3><p>由於 SPA 的網站資料可能是由 JavaScript 等方式動態生成，因此搜尋引擎無法直接取得網站資料內容，對於 SEO 會有影響。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/12/01/SPA/" data-id="cl7t40xwf000kwo7kbn757jcy" data-title="SPA" class="article-share-link">Teilen</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-SQL Injection 的攻擊原理以及防範方法" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/12/01/SQL%20Injection%20%E7%9A%84%E6%94%BB%E6%93%8A%E5%8E%9F%E7%90%86%E4%BB%A5%E5%8F%8A%E9%98%B2%E7%AF%84%E6%96%B9%E6%B3%95/" class="article-date">
  <time class="dt-published" datetime="2021-12-01T00:23:12.000Z" itemprop="datePublished">2021-12-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/12/01/SQL%20Injection%20%E7%9A%84%E6%94%BB%E6%93%8A%E5%8E%9F%E7%90%86%E4%BB%A5%E5%8F%8A%E9%98%B2%E7%AF%84%E6%96%B9%E6%B3%95/">SQL Injection 的攻擊原理以及防範方法</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h6 id="tags-網路安全"><a href="#tags-網路安全" class="headerlink" title="tags: 網路安全"></a>tags: <code>網路安全</code></h6><h3 id="攻擊原理"><a href="#攻擊原理" class="headerlink" title="攻擊原理"></a>攻擊原理</h3><p>輸入特定含有 sql 語法的資料，讓 sql query 內容被竄改，達到符合攻擊目的。<br>例如以下範例：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> hati8haha_users <span class="keyword">WHERE</span> username <span class="operator">=</span> $username <span class="keyword">AND</span> password <span class="operator">=</span> $password</span><br></pre></td></tr></table></figure>
<p>正常情況下變數 <code>$username</code> 與 <code>$password</code> 會帶入使用者輸入的資料，若有符合條件才會列出。<br>但若將 <code>$password</code> 替換成 <code>&#39; OR 1=1 #</code> 那麼就會執行以下 sql query</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> hati8haha_users <span class="keyword">WHERE</span> username <span class="operator">=</span> <span class="string">&#x27;username&#x27;</span> <span class="keyword">AND</span> password <span class="operator">=</span> <span class="string">&#x27;&#x27;</span> <span class="keyword">OR</span> <span class="number">1</span><span class="operator">=</span><span class="number">1</span> #<span class="string">&#x27;</span></span><br></pre></td></tr></table></figure>
<p>因為 <code>OR 1=1</code>，因此無論輸入任何帳號密碼都可以取得身分認證成功登入。</p>
<h3 id="防範方法：Prepared-statement"><a href="#防範方法：Prepared-statement" class="headerlink" title="防範方法：Prepared statement"></a>防範方法：Prepared statement</h3><p>將傳進去的資料用編譯後的參數替代，不會直接用原始資料進行 sql query</p>
<p>php 的 prepared statement 範例：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$sql</span> = <span class="string">&quot;insert into comments(nickname, content) values(?,?)&quot;</span>;</span><br><span class="line"><span class="variable">$stmt</span> = <span class="variable">$conn</span>-&gt;<span class="title function_ invoke__">prepare</span>(<span class="variable">$sql</span>);</span><br><span class="line"><span class="variable">$stmt</span>-&gt;<span class="title function_ invoke__">bind_param</span>(<span class="string">&#x27;ss&#x27;</span>, <span class="variable">$nickname</span>, <span class="variable">$content</span>);</span><br><span class="line"><span class="variable">$result</span> = <span class="variable">$stmt</span>-&gt;<span class="title function_ invoke__">execute</span>();</span><br><span class="line"><span class="keyword">if</span> (!<span class="variable">$result</span>) &#123;</span><br><span class="line">  <span class="keyword">die</span>(<span class="variable">$conn</span>-&gt;error);</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable">$result</span> = <span class="variable">$stmt</span>-&gt;<span class="title function_ invoke__">get_result</span>()</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/12/01/SQL%20Injection%20%E7%9A%84%E6%94%BB%E6%93%8A%E5%8E%9F%E7%90%86%E4%BB%A5%E5%8F%8A%E9%98%B2%E7%AF%84%E6%96%B9%E6%B3%95/" data-id="cl7t40xwg000lwo7ke5809xbb" data-title="SQL Injection 的攻擊原理以及防範方法" class="article-share-link">Teilen</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-XSS 的攻擊原理以及防範方法" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/12/01/XSS%20%E7%9A%84%E6%94%BB%E6%93%8A%E5%8E%9F%E7%90%86%E4%BB%A5%E5%8F%8A%E9%98%B2%E7%AF%84%E6%96%B9%E6%B3%95/" class="article-date">
  <time class="dt-published" datetime="2021-12-01T00:23:06.000Z" itemprop="datePublished">2021-12-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/12/01/XSS%20%E7%9A%84%E6%94%BB%E6%93%8A%E5%8E%9F%E7%90%86%E4%BB%A5%E5%8F%8A%E9%98%B2%E7%AF%84%E6%96%B9%E6%B3%95/">XSS 的攻擊原理以及防範方法</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h6 id="tags-網路安全"><a href="#tags-網路安全" class="headerlink" title="tags: 網路安全"></a>tags: <code>網路安全</code></h6><h3 id="攻擊原理"><a href="#攻擊原理" class="headerlink" title="攻擊原理"></a>攻擊原理</h3><p>XSS 為 Cross-site Scriptinng 的縮寫，中文為「跨網站指令碼」。</p>
<p>利用網站漏洞將帶有程式的 <code>&lt;script&gt;</code> 標籤或其它腳本程式注入網站，讓攻擊者可以取得更高的權限，例如讓網站重新導向至惡意連結或取得 cookie 等。</p>
<h3 id="防範方法：避免直接輸出"><a href="#防範方法：避免直接輸出" class="headerlink" title="防範方法：避免直接輸出"></a>防範方法：避免直接輸出</h3><ol>
<li>跳脫<br>若能將 <code>&lt;script&gt;</code> 經過編碼轉換，在 html 渲染時以純文字的方式印出，就能避免 XSS。</li>
<li>過濾<br>若需要將使用者輸入文字以 html 渲染出來，例如部落格文章中的 <code>&lt;h1&gt;</code>、<code>&lt;h2&gt;</code>、<code>&lt;h3&gt;</code> 等標籤，則可以採用過濾的方式，把 <code>script</code>、<code>iframe</code> 等標籤針對性的不直接印出。</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/12/01/XSS%20%E7%9A%84%E6%94%BB%E6%93%8A%E5%8E%9F%E7%90%86%E4%BB%A5%E5%8F%8A%E9%98%B2%E7%AF%84%E6%96%B9%E6%B3%95/" data-id="cl7t40xwj000rwo7kdtgh4thd" data-title="XSS 的攻擊原理以及防範方法" class="article-share-link">Teilen</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-include、require、include_once、require_once 的差別" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/12/01/include%E3%80%81require%E3%80%81include_once%E3%80%81require_once%20%E7%9A%84%E5%B7%AE%E5%88%A5/" class="article-date">
  <time class="dt-published" datetime="2021-12-01T00:22:18.000Z" itemprop="datePublished">2021-12-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/12/01/include%E3%80%81require%E3%80%81include_once%E3%80%81require_once%20%E7%9A%84%E5%B7%AE%E5%88%A5/">include、require、include_once、require_once 的差別</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h6 id="tags-PHP"><a href="#tags-PHP" class="headerlink" title="tags: PHP"></a>tags: <code>PHP</code></h6><p><code>include</code> 與 <code>require</code> 都是用來引入既有的外部 php 檔案至目前檔案中執行。</p>
<p>兩者差別在於若引入的檔案執行出現錯誤時，<code>include</code> 會產生 E_WARNING（非致命的執行時錯誤，程式會繼續執行），而 <code>require</code> 則會產生 E_COMPILE_ERROR（程式會停止）</p>
<p><code>include_once</code>、<code>require_once</code> 與 <code>include</code>、<code>require</code> 功能幾乎一樣，唯一的差別是 <code>include_once</code>、<code>require_once</code> 會先檢查要引入的檔案是否已經在該程式中被引入過，如果有的話就不會再次重複引入該檔案。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/12/01/include%E3%80%81require%E3%80%81include_once%E3%80%81require_once%20%E7%9A%84%E5%B7%AE%E5%88%A5/" data-id="cl7t40xwl000vwo7kcafxcjfk" data-title="include、require、include_once、require_once 的差別" class="article-share-link">Teilen</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-雜湊跟加密的差別" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/12/01/%E9%9B%9C%E6%B9%8A%E8%B7%9F%E5%8A%A0%E5%AF%86%E7%9A%84%E5%B7%AE%E5%88%A5/" class="article-date">
  <time class="dt-published" datetime="2021-12-01T00:21:36.000Z" itemprop="datePublished">2021-12-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/12/01/%E9%9B%9C%E6%B9%8A%E8%B7%9F%E5%8A%A0%E5%AF%86%E7%9A%84%E5%B7%AE%E5%88%A5/">雜湊跟加密的差別</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h6 id="tags-網路安全-資料庫"><a href="#tags-網路安全-資料庫" class="headerlink" title="tags: 網路安全 資料庫"></a>tags: <code>網路安全</code> <code>資料庫</code></h6><p>雜湊跟加密的最重要的差別是加密可以解密，而雜湊不行還原。因此密碼要雜湊過後才存入資料庫。</p>
<h3 id="加密-encryption"><a href="#加密-encryption" class="headerlink" title="加密 encryption"></a>加密 encryption</h3><p>透過演算法與 key，將字串計算得出加密後的密文，根據是否使用同一組 key 加密與解密可分為對稱加密法與與非對稱加密法。<br>加密是一對一關係，若知道 key 跟演算法也會被解開</p>
<p>明文 &#x3D;&gt; 加密 &#x3D;&gt; 密文<br>密文 &#x3D;&gt; 解密 &#x3D;&gt; 明文</p>
<h3 id="雜湊-hash"><a href="#雜湊-hash" class="headerlink" title="雜湊 hash"></a>雜湊 hash</h3><p>將字元丟進去某個公式計算的方式就叫做雜湊（Hash），而這個計算公式就稱為雜湊函數（Hash function）</p>
<p>雜湊為多對一關係，這也是無法還原的原因</p>
<p>明文 &#x3D;&gt; hash &#x3D;&gt; 文字</p>
<p>若兩個不同密碼產生同個 hash 稱碰撞</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/12/01/%E9%9B%9C%E6%B9%8A%E8%B7%9F%E5%8A%A0%E5%AF%86%E7%9A%84%E5%B7%AE%E5%88%A5/" data-id="cl7t40xww0016wo7kb62e74lb" data-title="雜湊跟加密的差別" class="article-share-link">Teilen</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-Cookie 是什麼？如何設定？" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/12/01/Cookie%20%E6%98%AF%E4%BB%80%E9%BA%BC%EF%BC%9F%E5%A6%82%E4%BD%95%E8%A8%AD%E5%AE%9A%EF%BC%9F/" class="article-date">
  <time class="dt-published" datetime="2021-12-01T00:19:16.000Z" itemprop="datePublished">2021-12-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/12/01/Cookie%20%E6%98%AF%E4%BB%80%E9%BA%BC%EF%BC%9F%E5%A6%82%E4%BD%95%E8%A8%AD%E5%AE%9A%EF%BC%9F/">Cookie 是什麼？如何設定？</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h6 id="tags-web-基礎"><a href="#tags-web-基礎" class="headerlink" title="tags: web 基礎"></a>tags: <code>web 基礎</code></h6><p>由於 HTTP 是無狀態的，因此每一個 Request 不相關，Server 會無法辨識是否為同個使用者。</p>
<p>而 Cookie 存在的目的就是為了讓 Server 能辨識使用者，透過 Cookie 這個<strong>儲存在瀏覽器的小型文字檔案</strong>，Server 便能辨識不同的 Request 是否來自同個使用者。</p>
<p>透過讓 Server 發送 Cookie 給瀏覽器，而瀏覽器將 Cookie 儲存起來，以便讓 Server 能辨識使用者。</p>
<p>在 Server 發送 設定 Cookie 的 response 給 Client 端之後，Client 發送到 Server 的 request 的 header 中會帶上 cookie。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">A[Client] -- rquest --&gt; B[Server]</span><br><span class="line">B -- Response with setCookie --&gt; A</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">A[Client] -- rquest with Cookie --&gt; B[Server]</span><br><span class="line">B -- 可以辨識使用者 --&gt; A</span><br></pre></td></tr></table></figure>
<p>在 php 實作中，可以用 <code>setcookie()</code> 來設定 cookie，可參考此範例：<br><code>setcookie(&quot;cookie 名稱&quot;, cookie 參數, 失效時間)</code><br><code>time()</code> 會回傳現在時間</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">  <span class="meta">&lt;?php</span></span><br><span class="line">  <span class="variable">$expire</span> = <span class="title function_ invoke__">time</span>() + <span class="number">3600</span> * <span class="number">24</span> * <span class="number">30</span>;  <span class="comment">//沒設時間會很快失效</span></span><br><span class="line">  <span class="title function_ invoke__">setcookie</span>(<span class="string">&quot;username&quot;</span>, <span class="variable">$username</span>, <span class="variable">$expire</span>)</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/12/01/Cookie%20%E6%98%AF%E4%BB%80%E9%BA%BC%EF%BC%9F%E5%A6%82%E4%BD%95%E8%A8%AD%E5%AE%9A%EF%BC%9F/" data-id="cl7t40xw00008wo7k0d5eaq29" data-title="Cookie 是什麼？如何設定？" class="article-share-link">Teilen</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-NoSQL 跟 SQL 的差別在哪裡？" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/12/01/NoSQL%20%E8%B7%9F%20SQL%20%E7%9A%84%E5%B7%AE%E5%88%A5%E5%9C%A8%E5%93%AA%E8%A3%A1%EF%BC%9F/" class="article-date">
  <time class="dt-published" datetime="2021-12-01T00:17:52.000Z" itemprop="datePublished">2021-12-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/12/01/NoSQL%20%E8%B7%9F%20SQL%20%E7%9A%84%E5%B7%AE%E5%88%A5%E5%9C%A8%E5%93%AA%E8%A3%A1%EF%BC%9F/">NoSQL 跟 SQL 的差別在哪裡？</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h6 id="tags-資料庫"><a href="#tags-資料庫" class="headerlink" title="tags: 資料庫"></a>tags: <code>資料庫</code></h6><p>NoSQL是Not Only SQL的縮寫，與 SQL（關聯式資料庫）有以下差別：</p>
<ol>
<li>沒有 schema，通常以 JSON、XML 或 CSV 等檔案類型儲存</li>
<li>用 key-value 來存資料</li>
<li>不支援 JOIN</li>
<li>通常用來存一些結構不固定的資料（log 之類的）</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/12/01/NoSQL%20%E8%B7%9F%20SQL%20%E7%9A%84%E5%B7%AE%E5%88%A5%E5%9C%A8%E5%93%AA%E8%A3%A1%EF%BC%9F/" data-id="cl7t40xwc000gwo7k7iu11pv0" data-title="NoSQL 跟 SQL 的差別在哪裡？" class="article-share-link">Teilen</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-什麼是資料庫的 lock" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/12/01/%E4%BB%80%E9%BA%BC%E6%98%AF%E8%B3%87%E6%96%99%E5%BA%AB%E7%9A%84%20lock/" class="article-date">
  <time class="dt-published" datetime="2021-12-01T00:17:42.000Z" itemprop="datePublished">2021-12-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/12/01/%E4%BB%80%E9%BA%BC%E6%98%AF%E8%B3%87%E6%96%99%E5%BA%AB%E7%9A%84%20lock/">什麼是資料庫的 lock</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h6 id="tags-資料庫"><a href="#tags-資料庫" class="headerlink" title="tags: 資料庫"></a>tags: <code>資料庫</code></h6><h3 id="lock-是什麼"><a href="#lock-是什麼" class="headerlink" title="lock 是什麼"></a>lock 是什麼</h3><p>資料庫的 lock 是指鎖住資料庫的狀態，不讓在 lock 狀態下的資料庫，資料無法更動。</p>
<p>為了避免 race condition 發生，因此需要透過 lock 來將資料庫鎖定狀態。</p>
<h4 id="php-lock-範例程式碼"><a href="#php-lock-範例程式碼" class="headerlink" title="php lock 範例程式碼"></a>php lock 範例程式碼</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$conn</span>-&gt;<span class="title function_ invoke__">autocommit</span>(<span class="literal">FALSE</span>);  </span><br><span class="line"><span class="variable">$conn</span>-&gt;<span class="title function_ invoke__">begin_transaction</span>();  </span><br><span class="line"><span class="variable">$conn</span>-&gt;<span class="title function_ invoke__">query</span>(<span class="string">&quot;SELECT amount from products where id = 1 for update&quot;</span>);  </span><br><span class="line"><span class="variable">$conn</span>-&gt;<span class="title function_ invoke__">commit</span>();  </span><br></pre></td></tr></table></figure>


<h3 id="什麼是-race-condition"><a href="#什麼是-race-condition" class="headerlink" title="什麼是 race condition"></a>什麼是 race condition</h3><p>例如某網路商城的貨品 A 只剩下一件，小明和老王都同時下貨品 A 的訂單，而下訂單的程式邏輯為：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1. 確認庫存數量大於或等於下單貨品數量</span><br><span class="line">2. 若結果為 false，則下單失敗；若為 true，繼續執行</span><br><span class="line">3. 庫存數量 - 下訂單貨品數量</span><br><span class="line">4. 購物車數量 - 下訂單貨品數量</span><br><span class="line">5. 帳戶訂單 + 下訂單貨品數量</span><br></pre></td></tr></table></figure>

<p>若小明訂單在步驟 1<del>2 結果為 「庫存數量大於或等於下單貨品數量」，還沒執行到步驟 3 時，老王的訂單就開始執行步驟 1</del>2，那麼就會造成兩人在步驟 1~2 結果都為 「庫存數量大於或等於下單貨品數量」。</p>
<p>結果就是會造成程式會執行兩筆訂單的 3~5 步驟，造成超賣現象。而這種情形稱作 race condition。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/12/01/%E4%BB%80%E9%BA%BC%E6%98%AF%E8%B3%87%E6%96%99%E5%BA%AB%E7%9A%84%20lock/" data-id="cl7t40xwr0010wo7k2viehkse" data-title="什麼是資料庫的 lock" class="article-share-link">Teilen</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-資料庫的 ACID" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/12/01/%E8%B3%87%E6%96%99%E5%BA%AB%E7%9A%84%20ACID/" class="article-date">
  <time class="dt-published" datetime="2021-12-01T00:17:30.000Z" itemprop="datePublished">2021-12-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/12/01/%E8%B3%87%E6%96%99%E5%BA%AB%E7%9A%84%20ACID/">資料庫的 ACID</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h6 id="tags-資料庫"><a href="#tags-資料庫" class="headerlink" title="tags: 資料庫"></a>tags: <code>資料庫</code></h6><h3 id="Transaction-交易"><a href="#Transaction-交易" class="headerlink" title="Transaction 交易"></a>Transaction 交易</h3><p>在以下情況中，會涉及多個以上的 query，而這些 query 必須確保所有動作都是成功且不受干擾。這類動作會被稱為 Transaction。</p>
<ul>
<li>轉帳</li>
<li>購物（一次買多個品項）</li>
<li>其他一次牽扯到多個 query 的操作</li>
</ul>
<h4 id="php-範例程式碼"><a href="#php-範例程式碼" class="headerlink" title="php 範例程式碼"></a>php 範例程式碼</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$conn</span>-&gt;<span class="title function_ invoke__">autocommit</span>(<span class="literal">FALSE</span>);  </span><br><span class="line"><span class="variable">$conn</span>-&gt;<span class="title function_ invoke__">begin_transaction</span>();  </span><br><span class="line"><span class="variable">$conn</span>-&gt;<span class="title function_ invoke__">query</span>(<span class="string">&quot;update from money set amount = 20&quot;</span>);  </span><br><span class="line"><span class="variable">$conn</span>-&gt;<span class="title function_ invoke__">query</span>(<span class="string">&quot;update from money set sum = 10&quot;</span>);  </span><br><span class="line"><span class="variable">$conn</span>-&gt;<span class="title function_ invoke__">commit</span>();</span><br></pre></td></tr></table></figure>

<h3 id="ACID"><a href="#ACID" class="headerlink" title="ACID"></a>ACID</h3><p>為了保證 Transaction 的正確性，要符合以下四個特性</p>
<ol>
<li><strong>原子性 atomicity</strong>：只能全部失敗或全部成功</li>
<li><strong>一致性 consistency</strong>：維持資料的一致性（錢的總數相同）</li>
<li><strong>隔離性 isolation</strong>：多筆交易不會互相影響（不能同時改同一個值）</li>
<li><strong>持久性 durability</strong>：交易成功之後，寫入的資料不會不見</li>
</ol>
<p>這四個特性的字首縮寫便是 ACID。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/12/01/%E8%B3%87%E6%96%99%E5%BA%AB%E7%9A%84%20ACID/" data-id="cl7t40xwv0015wo7k2eqv677z" data-title="資料庫的 ACID" class="article-share-link">Teilen</a>
      
      
      
    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/">&laquo; zurück</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/3/">weiter &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archiv</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">September 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">letzter Beitrag</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/09/07/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2022/09/02/%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/">學習筆記</a>
          </li>
        
          <li>
            <a href="/2022/09/02/Redux/">Redux</a>
          </li>
        
          <li>
            <a href="/2022/09/02/React%20%E8%A7%A3%E6%B1%BA%E4%BA%86%E4%BB%80%E9%BA%BC%E5%95%8F%E9%A1%8C/">React 解決了什麼問題</a>
          </li>
        
          <li>
            <a href="/2022/09/02/React%20%E7%9A%84%E6%80%9D%E8%80%83%E6%A8%A1%E5%BC%8F/">React 的思考模式</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2022 Haoting<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>